@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;
  
  /* Frontlines blue gradient colors */
  --frontlines-blue-start: hsl(207, 90%, 54%);
  --frontlines-blue-end: hsl(212, 100%, 48%);
  --frontlines-blue-light: hsl(207, 90%, 64%);
}

.dark {
  --background: hsl(220, 8%, 12%);
  --foreground: hsl(0, 0%, 92%);
  --muted: hsl(220, 6%, 18%);
  --muted-foreground: hsl(220, 4%, 58%);
  --popover: hsl(220, 8%, 12%);
  --popover-foreground: hsl(0, 0%, 92%);
  --card: hsl(220, 8%, 12%);
  --card-foreground: hsl(0, 0%, 92%);
  --border: hsl(220, 6%, 22%);
  --input: hsl(220, 6%, 22%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(220, 6%, 18%);
  --secondary-foreground: hsl(0, 0%, 92%);
  --accent: hsl(220, 6%, 18%);
  --accent-foreground: hsl(0, 0%, 92%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 92%);
  --ring: hsl(220, 6%, 65%);
  --radius: 0.5rem;
  
  /* Frontlines blue gradient colors (dark mode) */
  --frontlines-blue-start: hsl(207, 90%, 64%);
  --frontlines-blue-end: hsl(212, 100%, 58%);
  --frontlines-blue-light: hsl(207, 90%, 74%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

@layer components {
  .reply-quote-inset {
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 
                inset -1px 1px 3px rgba(0, 0, 0, 0.08),
                inset 0 -1px 3px rgba(0, 0, 0, 0.08), 
                inset -1px -1px 3px rgba(0, 0, 0, 0.1);
  }

  .dark .reply-quote-inset {
    box-shadow: inset 0 1px 3px rgba(255, 255, 255, 0.06), 
                inset -1px 1px 3px rgba(255, 255, 255, 0.04),
                inset 0 -1px 3px rgba(255, 255, 255, 0.04), 
                inset -1px -1px 3px rgba(255, 255, 255, 0.06);
  }
  
  /* Frontlines blue utilities */
  .frontlines-blue-highlight {
    background: linear-gradient(135deg, 
      hsla(207, 90%, 54%, 0.15) 0%, 
      hsla(212, 100%, 48%, 0.15) 100%);
    border-radius: 0.75rem; /* Maintain border radius during highlight */
    transition: background-color 0.2s ease-in-out, opacity 0.8s ease-out;
  }
  
  .dark .frontlines-blue-highlight {
    background: linear-gradient(135deg, 
      hsla(207, 90%, 64%, 0.15) 0%, 
      hsla(212, 100%, 58%, 0.15) 100%);
    border-radius: 0.75rem; /* Maintain border radius during highlight */
    transition: background-color 0.2s ease-in-out, opacity 0.8s ease-out;
  }
  
  .frontlines-blue-border {
    border-color: var(--frontlines-blue-start);
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
  }
  
  @keyframes shake-strong {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-8px); }
    20% { transform: translateX(8px); }
    30% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    50% { transform: translateX(-4px); }
    60% { transform: translateX(4px); }
    70% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
    90% { transform: translateX(-1px); }
  }
  
  .animate-shake {
    animation: shake 0.3s ease-in-out;
  }
  
  .animate-shake-strong {
    animation: shake-strong 1.2s ease-in-out;
  }

  .message-bubble-smooth {
    transition: transform 150ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .message-bubble-smooth.animating {
    transition: transform 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }
}

/* Chat-specific styles */
.shield-gradient {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
}

.message-enter {
  animation: messageSlideIn 0.3s ease-out;
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dark mode adjustments for message bubbles */
.dark .bg-blue-50 {
  @apply bg-blue-900/30;
}

.dark .bg-green-50 {
  @apply bg-green-900/30;
}

.dark .bg-purple-50 {
  @apply bg-purple-900/30;
}

.dark .bg-orange-50 {
  @apply bg-orange-900/30;
}

.dark .bg-pink-50 {
  @apply bg-pink-900/30;
}

.dark .bg-indigo-50 {
  @apply bg-indigo-900/30;
}

.dark .bg-teal-50 {
  @apply bg-teal-900/30;
}

.dark .bg-yellow-50 {
  @apply bg-yellow-900/30;
}

/* Shake animation for highlighted messages */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  50% { transform: translateX(2px); }
  75% { transform: translateX(-2px); }
  100% { transform: translateX(0); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out 2;
}